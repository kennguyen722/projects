<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2234.462736141942" height="989.4232638809997"><desc>sequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20participant%20C%20as%20Client%0A%20%20%20%20participant%20G%20as%20Gateway%20(Envoy)%0A%20%20%20%20participant%20A%20as%20Auth%20Service%0A%20%20%20%20participant%20R%20as%20Redis%0A%20%20%20%20participant%20S%20as%20SCIM%20Service%0A%20%20%20%20participant%20U%20as%20User%20Service%20(gRPC)%0A%0A%20%20%20%20rect%20rgb(245%2C245%2C245)%0A%20%20%20%20Note%20over%20C%2CG%3A%20Token%20issuance%0A%20%20%20%20C-%3E%3EG%3A%20POST%20%2Foauth%2Ftoken%20(demo%20creds)%0A%20%20%20%20G-%3E%3EA%3A%20Forward%20%2Foauth%2Ftoken%0A%20%20%20%20A-%3E%3ER%3A%20Store%20refresh%20token%20(TTL)%0A%20%20%20%20R--%3E%3EA%3A%20OK%0A%20%20%20%20A--%3E%3EG%3A%20200%20%7Baccess_token%2C%20refresh_token%7D%0A%20%20%20%20G--%3E%3EC%3A%20200%20%7Baccess_token%2C%20refresh_token%7D%0A%20%20%20%20end%0A%0A%20%20%20%20rect%20rgb(245%2C245%2C245)%0A%20%20%20%20Note%20over%20C%2CG%3A%20SCIM%20list%20with%20JWT%0A%20%20%20%20C-%3E%3EG%3A%20GET%20%2Fscim%2Fv2%2FUsers%20(Authorization%3A%20Bearer%20%3Ctoken%3E)%0A%20%20%20%20alt%20Envoy%20jwt_authn%20needs%20JWKS%20or%20refresh%0A%20%20%20%20%20%20%20%20G-%3E%3EA%3A%20GET%20%2Foauth%2Fjwks%20(remote_jwks)%0A%20%20%20%20%20%20%20%20A--%3E%3EG%3A%20200%20JWKS%0A%20%20%20%20end%0A%20%20%20%20Note%20over%20G%3A%20Validate%20RS256%20signature%3B%20extract%20claims%20to%20metadata%0A%20%20%20%20Note%20over%20G%3A%20RBAC%20checks%20scope%20(scim.read%20for%20GET)%0A%20%20%20%20G-%3E%3ES%3A%20Forward%20%2Fscim%2Fv2%2FUsers%0A%20%20%20%20end%0A%0A%20%20%20%20rect%20rgb(245%2C245%2C245)%0A%20%20%20%20Note%20over%20S%3A%20Defense-in-depth%20verification%0A%20%20%20%20alt%20SCIM%20needs%20JWKS%20(startup%2Frotation%20retry)%0A%20%20%20%20%20%20%20%20S-%3E%3EA%3A%20GET%20%2Foauth%2Fjwks%0A%20%20%20%20%20%20%20%20A--%3E%3ES%3A%20200%20JWKS%0A%20%20%20%20end%0A%20%20%20%20Note%20over%20S%3A%20Verify%20RS256%20signature%3B%20check%20scope%20contains%20scim.read%0A%20%20%20%20S-%3E%3EU%3A%20gRPC%20ListUsers()%0A%20%20%20%20U--%3E%3ES%3A%20Users%20list%0A%20%20%20%20S--%3E%3EG%3A%20200%20%7B%20Resources%5B%5D%2C%20totalResults%20%7D%0A%20%20%20%20G--%3E%3EC%3A%20200%20%7B%20Resources%5B%5D%2C%20totalResults%20%7D%0A%20%20%20%20end</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2234" height="989"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.73953331448438 55.049635120999994 L 61.73953331448438 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 223.10334268026955 55.049635120999994 L 223.10334268026955 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 406.87944452652346 55.049635120999994 L 406.87944452652346 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 552.770803635961 55.049635120999994 L 552.770803635961 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 701.9084090832891 55.049635120999994 L 701.9084090832891 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 900.7310273480001 55.049635120999994 L 900.7310273480001 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1043.3403582591955 55.049635120999994 L 1043.3403582591955 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 55.049635120999994 L 1438.0603852558102 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.602220113753 55.049635120999994 L 1719.602220113753 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1939.962978921891 55.049635120999994 L 1939.962978921891 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2025.300859546663 55.049635120999994 L 2025.300859546663 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2203.2779513626137 55.049635120999994 L 2203.2779513626137 989.4232638809997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 10.944586211000003 L 115.31146497896876 10.944586211000003 L 115.31146497896876 55.049635120999994 L 8.167601650000002 55.049635120999994 L 8.167601650000002 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">C as Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 131.64666827896878 10.944586211000003 L 314.5600170815703 10.944586211000003 L 314.5600170815703 55.049635120999994 L 131.64666827896878 55.049635120999994 L 131.64666827896878 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.37036385946877" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">G as Gateway (Envoy)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 330.8952203815703 10.944586211000003 L 482.8636686714766 10.944586211000003 L 482.8636686714766 55.049635120999994 L 330.8952203815703 55.049635120999994 L 330.8952203815703 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="348.61891596207033" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">A as Auth Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 499.1988719714766 10.944586211000003 L 606.3427353004454 10.944586211000003 L 606.3427353004454 55.049635120999994 L 499.1988719714766 55.049635120999994 L 499.1988719714766 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9225675519766" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">R as Redis</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 622.6779386004454 10.944586211000003 L 781.1388795661329 10.944586211000003 L 781.1388795661329 55.049635120999994 L 622.6779386004454 55.049635120999994 L 622.6779386004454 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="640.4016341809454" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S as SCIM Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 797.4740828661329 10.944586211000003 L 1003.9879718298673 10.944586211000003 L 1003.9879718298673 55.049635120999994 L 797.4740828661329 55.049635120999994 L 797.4740828661329 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="815.1977784466329" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">U as User Service (gRPC)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1020.3231751298673 10.944586211000003 L 1066.3575413885235 10.944586211000003 L 1066.3575413885235 55.049635120999994 L 1020.3231751298673 55.049635120999994 L 1020.3231751298673 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1038.0468707103673" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">C</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1414.6351821069509 10.944586211000003 L 1461.4855884046697 10.944586211000003 L 1461.4855884046697 55.049635120999994 L 1414.6351821069509 55.049635120999994 L 1414.6351821069509 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1432.3588776874508" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">G</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1696.989478817921 10.944586211000003 L 1742.2149614095852 10.944586211000003 L 1742.2149614095852 55.049635120999994 L 1696.989478817921 55.049635120999994 L 1696.989478817921 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1714.713174398421" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">A</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1916.9457957925629 10.944586211000003 L 1962.9801620512192 10.944586211000003 L 1962.9801620512192 55.049635120999994 L 1916.9457957925629 55.049635120999994 L 1916.9457957925629 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1934.6694913730628" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">R</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2002.6881182508312 10.944586211000003 L 2047.9136008424953 10.944586211000003 L 2047.9136008424953 55.049635120999994 L 2002.6881182508312 55.049635120999994 L 2002.6881182508312 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2020.411813831331" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2180.2607682332855 10.944586211000003 L 2226.2951344919416 10.944586211000003 L 2226.2951344919416 55.049635120999994 L 2180.2607682332855 55.049635120999994 L 2180.2607682332855 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2197.9844638137856" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">U</text></g></g><g><g><rect fill="white" stroke="none" x="1136.8077465969754" y="87.720041721" width="220.0114466101172" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1139.2580270919755" y="102.42172469100001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /oauth/token (demo creds)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1127.031830802913" y="102.42172469100001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1043.3403582591955 108.95580601099999 L 1436.0184848433103 108.95580601099999" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1438.0603852558102,108.95580601099999) translate(-1438.0603852558102,-108.95580601099999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1424.065140872756 102.71240852537655 L 1436.5300853902606 108.95580601099999 L 1424.065140872756 115.19920349662344" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1513.2278544651722" y="133.458610961" width="143.43309272828125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1515.6781349601722" y="148.16029393099998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Forward /oauth/token</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1503.4519386711097" y="148.16029393099998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 154.694375251 L 1717.560319701253 154.694375251" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1719.602220113753,154.694375251) translate(-1719.602220113753,-154.694375251)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1705.6069757306989 148.45097776537656 L 1718.0719202482035 154.694375251 L 1705.6069757306989 160.93777273662343" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1751.158406974482" y="179.197180201" width="169.4745813757422" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1753.608687469482" y="193.898863171" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Store refresh token (TTL)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1741.3824911804195" y="193.898863171" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.602220113753 200.432944491 L 1937.921078509391 200.432944491" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1939.962978921891,200.432944491) translate(-1939.962978921891,-200.432944491)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1925.9677345388368 194.18954700537657 L 1938.4326790563414 200.432944491 L 1925.9677345388368 206.67634197662343" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1822.8548638836617" y="224.935749441" width="26.08166755738281" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1825.3051443786617" y="239.637432411" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OK</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1813.0789480895992" y="239.637432411" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1939.962978921891 246.171513731 L 1721.644120526253 246.171513731" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1719.602220113753,246.171513731) translate(-1719.602220113753,-246.171513731)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1733.597464496807 239.92811624537657 L 1721.1325199793025 246.171513731 L 1733.597464496807 252.41491121662344" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1469.6165721165394" y="270.674318681" width="230.65565742554688" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1472.0668526115394" y="285.37600165099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 {access_token, refresh_token}</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1459.840656322477" y="285.37600165099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.602220113753 291.910082971 L 1440.10228566831 291.910082971" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1438.0603852558102,291.910082971) translate(-1438.0603852558102,-291.910082971)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0556296388643 285.66668548537655 L 1439.5906851213597 291.910082971 L 1452.0556296388643 298.15348045662347" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1131.4856411892606" y="316.412887921" width="230.65565742554688" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1133.9359216842606" y="331.11457089099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 {access_token, refresh_token}</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1121.7097253951981" y="331.11457089099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 337.648652211 L 1045.3822586716954 337.648652211" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1043.3403582591955,337.648652211) translate(-1043.3403582591955,-337.648652211)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1057.3356026422496 331.40525472537655 L 1044.870658124745 337.648652211 L 1057.3356026422496 343.8920496966235" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1074.8965451199247" y="362.151457161" width="343.8338495642187" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1077.3468256149247" y="376.853140131" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /scim/v2/Users (Authorization: Bearer &lt;token&gt;)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1065.1206293258622" y="376.853140131" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1043.3403582591955 383.387221451 L 1436.0184848433103 383.387221451" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1438.0603852558102,383.387221451) translate(-1438.0603852558102,-383.387221451)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1424.065140872756 377.14382396537655 L 1436.5300853902606 383.387221451 L 1424.065140872756 389.6306189366235" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1480.6616542088245" y="451.995075311" width="208.56549324097656" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1483.1119347038245" y="466.696758281" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /oauth/jwks (remote_jwks)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1470.885738414762" y="466.696758281" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 473.230839601 L 1717.560319701253 473.230839601" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1719.602220113753,473.230839601) translate(-1719.602220113753,-473.230839601)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1705.6069757306989 466.98744211537655 L 1718.0719202482035 473.230839601 L 1705.6069757306989 479.4742370866235" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1547.8663584934925" y="497.733644551" width="74.15608467164063" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1550.3166389884925" y="512.435327521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 JWKS</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1538.09044269943" y="512.435327521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">9 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.602220113753 518.969408841 L 1440.10228566831 518.969408841" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1438.0603852558102,518.969408841) translate(-1438.0603852558102,-518.969408841)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0556296388643 512.7260113553766 L 1439.5906851213597 518.969408841 L 1452.0556296388643 525.2128063266234" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1662.4443998286" y="567.975018741" width="158.85182441773438" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1664.8946803236" y="582.676701711" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Forward /scim/v2/Users</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1644.515301051139" y="582.676701711" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">10 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 589.210783031 L 2023.2589591341632 589.210783031" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(2025.300859546663,589.210783031) translate(-2025.300859546663,-589.210783031)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2011.305615163609 582.9673855453766 L 2023.7705596811136 589.210783031 L 2011.305615163609 595.4541805166234" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1826.0141453825713" y="657.8186368909999" width="112.44528450074219" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1828.4644258775713" y="672.5203198609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /oauth/jwks</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1808.8939302721026" y="672.5203198609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">11 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2025.300859546663 679.0544011809999 L 1721.644120526253 679.0544011809999" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1719.602220113753,679.0544011809999) translate(-1719.602220113753,-679.0544011809999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1733.597464496807 672.8110036953765 L 1721.1325199793025 679.0544011809999 L 1733.597464496807 685.2977986666233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1845.5631871306182" y="703.5572061309998" width="74.15608467164063" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1848.0134676256182" y="718.2588891009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 JWKS</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1827.6340883531573" y="718.2588891009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">12 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.602220113753 724.7929704209998 L 2023.2589591341632 724.7929704209998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(2025.300859546663,724.7929704209998) translate(-2025.300859546663,-724.7929704209998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2011.305615163609 718.5495729353764 L 2023.7705596811136 724.7929704209998 L 2011.305615163609 731.0363679066232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="2065.010229390791" y="773.7985803209998" width="118.93773140015625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2067.460509885791" y="788.5002632909998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">gRPC ListUsers()</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="2047.08113061333" y="788.5002632909998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">13 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2025.300859546663 795.0343446109998 L 2201.2360509501136 795.0343446109998" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(2203.2779513626137,795.0343446109998) translate(-2203.2779513626137,-795.0343446109998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2189.28270697956 788.7909471253764 L 2201.7476514970645 795.0343446109998 L 2189.28270697956 801.2777420966232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="2091.8928282677443" y="819.5371495609998" width="65.17253364625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2094.343108762744" y="834.2388325309997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Users list</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="2073.963729490283" y="834.2388325309997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">14 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2203.2779513626137 840.7729138509998 L 2027.342759959163 840.7729138509998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(2025.300859546663,840.7729138509998) translate(-2025.300859546663,-840.7729138509998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2039.2961039297172 834.5295163653764 L 2026.8311594122126 840.7729138509998 L 2039.2961039297172 847.0163113366232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1634.706393236803" y="865.2757188009997" width="214.32783760132813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1637.156673731803" y="879.9774017709997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 { Resources[], totalResults }</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1616.777294459342" y="879.9774017709997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">15 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2025.300859546663 886.5114830909997 L 1440.10228566831 886.5114830909997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1438.0603852558102,886.5114830909997) translate(-1438.0603852558102,-886.5114830909997)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0556296388643 880.2680856053763 L 1439.5906851213597 886.5114830909997 L 1452.0556296388643 892.7548805766231" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><rect fill="white" stroke="none" x="1143.7261425930692" y="911.0142880409996" width="214.32783760132813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1146.1764230880692" y="925.7159710109996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 { Resources[], totalResults }</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1125.7970438156083" y="925.7159710109996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">16 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1438.0603852558102 932.2500523309997 L 1045.3822586716954 932.2500523309997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1043.3403582591955,932.2500523309997) translate(-1043.3403582591955,-932.2500523309997)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1057.3356026422496 926.0066548453763 L 1044.870658124745 932.2500523309997 L 1057.3356026422496 938.4934498166231" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1380.8871737058103 407.890026401 L 1776.775431663753 407.890026401 L 1776.775431663753 543.4722137910001 L 1380.8871737058103 543.4722137910001 L 1380.8871737058103 407.890026401 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1380.8871737058103 407.890026401 L 1380.8871737058103 427.492270361 L 1427.2463773028805 427.492270361 L 1437.0474992828806 417.691148381 L 1437.0474992828806 407.890026401 L 1380.8871737058103 407.890026401" stroke-miterlimit="10" stroke-width="2.3336004714285714"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1397.2223770058104" y="420.958189041" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="1450.9324220878807" y="409.196842665" width="238.24023689332031" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1453.3827025828807" y="420.958189041" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Envoy jwt_authn needs JWKS or refresh]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1662.429008563753 613.7135879809999 L 2082.474071096663 613.7135879809999 L 2082.474071096663 749.2957753709999 L 1662.429008563753 749.2957753709999 L 1662.429008563753 613.7135879809999 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1662.429008563753 613.7135879809999 L 1662.429008563753 633.3158319409999 L 1708.7882121608234 633.3158319409999 L 1718.5893341408234 623.5147099609999 L 1718.5893341408234 613.7135879809999 L 1662.429008563753 613.7135879809999" stroke-miterlimit="10" stroke-width="2.3336004714285714"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1678.7642118637532" y="626.7817506209999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="1732.4742569458235" y="615.0204042449999" width="243.42933906617188" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1734.9245374408235" y="626.7817506209999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[SCIM needs JWKS (startup/rotation retry)]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>